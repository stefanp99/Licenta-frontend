<app-language-changer></app-language-changer>
<mat-grid-list cols="2" rowHeight="1.3:1">
    <mat-grid-tile>
        <div class="login">
            <form [formGroup]="loginForm">
                <mat-form-field appearance="fill">
                    <mat-label>
                        {{this.translationService.getTranslation('loginUsernameLabel'
                        )}}
                        <mat-icon class="icon">person</mat-icon>
                    </mat-label>
                    <input matInput type="text" formControlName="username"
                        placeholder="{{this.translationService.getTranslation('loginUsernameLabel')}}">
                    <mat-error
                        *ngIf="loginForm.get('username').hasError('required')">{{this.translationService.getTranslation('usernameRequiredError'
                        )}}</mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill">
                    <mat-label>
                        {{this.translationService.getTranslation('loginPasswordLabel'
                        )}}
                        <mat-icon class="icon">lock</mat-icon>
                    </mat-label>
                    <input matInput [type]="hide ? 'password' : 'text'" formControlName="password"
                        placeholder="{{this.translationService.getTranslation('loginPasswordLabel')}}">
                    <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                        [attr.aria-pressed]="hide">
                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
                    <mat-error
                        *ngIf="loginForm.get('password').hasError('required')">{{this.translationService.getTranslation('passwordRequiredError'
                        )}}</mat-error>
                </mat-form-field>
                <button mat-raised-button color="primary"
                    (click)="onLoginSubmit()">{{this.translationService.getTranslation('loginButton'
                    )}}</button>
                <mat-error *ngIf="invalidPassword">
                    <mat-icon>error</mat-icon>
                    {{this.translationService.getTranslation('incorrectUsernamePassword'
                    )}}
                </mat-error>
                <ng-container *ngIf="!invalidPassword; else emptyBlock">
                    <br /><br />
                </ng-container>
                <ng-template #emptyBlock></ng-template>
            </form>

            <form [formGroup]="resetPasswordForm">
                <mat-form-field appearance="fill">
                    <mat-label>
                        {{this.translationService.getTranslation('emailLabel'
                        )}}
                        <mat-icon class="icon">email</mat-icon>
                    </mat-label>
                    <input matInput type="text" formControlName="emailAddress" placeholder="{{this.translationService.getTranslation('emailLabel'
                    )}}">
                    <mat-error
                        *ngIf="loginForm.get('username').hasError('required')">{{this.translationService.getTranslation('emailRequiredError'
                        )}}</mat-error>
                    <mat-error
                        *ngIf="loginForm.get('username').hasError('email')">{{this.translationService.getTranslation('invalidEmailError'
                        )}}</mat-error>
                </mat-form-field>
                <button mat-raised-button color="primary"
                    (click)="resetPassword()">{{this.translationService.getTranslation('resetPasswordLabel'
                    )}}</button>
            </form>
        </div>
    </mat-grid-tile>
    <mat-grid-tile>
        <div class="registation">
            <form [formGroup]="registrationForm">
                <mat-form-field appearance="fill">
                    <mat-label>
                        {{this.translationService.getTranslation('firstNameLabel'
                        )}}
                        <mat-icon class="icon">account_circle</mat-icon>
                    </mat-label>
                    <input matInput type="text" formControlName="firstName" placeholder="{{this.translationService.getTranslation('firstNameLabel'
                    )}}">
                    <mat-error
                        *ngIf="registrationForm.get('firstName').hasError('required')">{{this.translationService.getTranslation('firstNameRequiredError'
                        )}}</mat-error>
                </mat-form-field>

                <mat-form-field appearance="fill">
                    <mat-label>
                        {{this.translationService.getTranslation('lastNameLabel'
                        )}}
                        <mat-icon class="icon">assignment_ind</mat-icon>
                    </mat-label>
                    <input matInput type="text" formControlName="lastName" placeholder="{{this.translationService.getTranslation('lastNameLabel'
                    )}}">
                    <mat-error
                        *ngIf="registrationForm.get('lastName').hasError('required')">{{this.translationService.getTranslation('lastNameRequiredError'
                        )}}</mat-error>
                </mat-form-field>

                <mat-form-field appearance="fill">
                    <mat-label>
                        {{this.translationService.getTranslation('loginUsernameLabel'
                        )}}
                        <mat-icon class="icon">person</mat-icon>
                    </mat-label>
                    <input matInput type="text" formControlName="username"
                        placeholder="{{this.translationService.getTranslation('loginUsernameLabel')}}">
                    <mat-error
                        *ngIf="registrationForm.get('username').hasError('required')">{{this.translationService.getTranslation('usernameRequiredError'
                        )}}</mat-error>
                </mat-form-field>

                <mat-form-field appearance="fill">
                    <mat-label>
                        {{this.translationService.getTranslation('emailLabel'
                        )}}
                        <mat-icon class="icon">email</mat-icon>
                    </mat-label>
                    <input matInput type="text" formControlName="emailAddress" placeholder="{{this.translationService.getTranslation('emailLabel'
                    )}}">
                    <mat-error
                        *ngIf="registrationForm.get('emailAddress').hasError('required')">{{this.translationService.getTranslation('emailRequiredError'
                        )}}</mat-error>
                    <mat-error *ngIf="registrationForm.get('emailAddress').hasError('email')">Invalid email
                        format</mat-error>
                </mat-form-field>

                <mat-form-field appearance="fill">
                    <mat-label>
                        {{this.translationService.getTranslation('loginPasswordLabel'
                        )}}
                        <mat-icon class="icon">lock</mat-icon>
                    </mat-label>
                    <input matInput [type]="hide ? 'password' : 'text'" formControlName="password"
                        placeholder="{{this.translationService.getTranslation('loginPasswordLabel')}}">
                    <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                        [attr.aria-pressed]="hide">
                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
                    <mat-error *ngIf="registrationForm.get('password').hasError('required')">Password is
                        required</mat-error>
                </mat-form-field>
                <div *ngIf="successfulRegistration">
                    Registration successful. Please login
                </div>

                <button mat-raised-button color="primary"
                    (click)="onRegistrationSubmit()">{{this.translationService.getTranslation('registerButton'
                    )}}</button>

            </form>
        </div>
    </mat-grid-tile>
</mat-grid-list>